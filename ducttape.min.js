var __={config:{},routes:[],loaded:[],models:{},components:{},loading:0,params:{},data:{},js:null,jss:{},console:console,currentScript:document.currentScript,getScript:function(e,t){var n=document.createElement("script");t&&(n.onerror=function(){t(!0,null)},n.onload=function(){t(null,!0)}),n.setAttribute("injected",!0),this.currentScript.parentNode.insertBefore(n,this.currentScript),n.src=e+(null!==window.location.queryString("cachebuster")?"?cachebuster="+__.rndString(10,["letters","numbers"]):"")},getContent:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&t(n.responseText,n.status)},n.open("GET",e+(null!==window.location.queryString("cachebuster")?"?cachebuster="+__.rndString(10,["letters","numbers"]):""),!0),n.send()},load:function(e,t,n){n&&(__.loaded=[]);var o=0;"string"==typeof e&&(e=[e]),e&&(o+=e.length,e.forEach(function(e){e&&e.length>0&&-1===__.loaded.indexOf(e)?__.getScript((void 0!==__.config&&void 0!==__.config.origin?__.config.origin:window.location.origin)+e+(__.config.use_min?__.config.use_min:"")+".js",function(){__.loaded.push(e),o--,o<=0&&t&&t()}):(o--,o<=0&&t&&t())}))},callAPI:function(e,t){var n=new XMLHttpRequest;n.open(t.method?t.method:"GET",(-1===e.indexOf("http")?this.config.base_api_url:"")+e,!0),n.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.headers&&Object.keys(t.headers).forEach(function(e){n.setRequestHeader(e,t.headers[e])}),n.onload=function(){if(this.status>=200&&this.status<400){var e=this.response;try{e=JSON.parse(this.response)}catch(e){console.log(e,new Date)}t.response(null,e,this.status)}else{console.log(this.response);try{t.response(JSON.parse(this.response),null,this.status)}catch(e){t.response(this.response,null,this.status)}}},n.onerror=function(e){t.response({error:this.statusText,details:this.response.trim()},null,this.status)},n.ontimeout=function(e){t.response("timeout",null,this.status)},n.onabort=function(e){t.response("abort",null,this.status)},n.send(t.data?JSON.stringify(t.data):null)},router:function(e,t,n){function o(){if(i.length>0){var e=i.shift(),n="^",a=e[0].substr(1).split("/"),s={};a.forEach(function(e,t){0===e.indexOf(":")?(s[e.substr(1)]=r.substr(1).split("/")[t],n+="\\/?.*"):n+="\\/"+e}),RegExp(n).test(r)?(window.location.search.substr(1).split("&").forEach(function(e){e&&e.indexOf("=")>0&&(s[e.split("=")[0]]=e.split("=")[1])}),t?__.params=s:e[1](s,function(){o()})):o()}}e&&window.addEventListener("popstate",__.router);var i=__.routes.slice(),r="/"===window.location.pathname[[window.location.pathname.length-1]]?window.location.pathname.substr(0,window.location.pathname.length-1):window.location.pathname;o()},routeTo:function(e,t){0===e.indexOf("http")?window.location=e+(t?window.location.search:""):(window.history.pushState("","",e+(t?window.location.search:"")),this.router())},updateLocationBar:function(e,t){window.history.pushState("","",e+(t?window.location.search:""))},appendToLocation:function(e,t){window.history.pushState("","",("/"===window.location.pathname.substr(window.location.pathname.length-1)?window.location.pathname.substr(0,window.location.pathname.length-1):window.location.pathname)+e+(t?window.location.search:""))},renderScreen:function(e,t={}){e||(e=window.location.pathname),__.params=t,__.getContent((void 0!==__.config&&void 0!==__.config.origin?__.config.origin:window.location.origin)+"/screens/"+e+"/ui"+(__.config.use_min?__.config.use_min:"")+".html",t=>{document.getElementById(void 0!==__.config.screenDOMId?__.config.screenDOMId:"__screen").innerHTML=t,__.getScript((void 0!==__.config&&void 0!==__.config.origin?__.config.origin:window.location.origin)+"/screens/"+e+"/logic"+(__.config.use_min?__.config.use_min:"")+".js")})},processTemplate:function(html,data){return Object.keys(data).forEach(function(k){var regex=new RegExp("{{"+k+"}}","g");html=html.replace(regex,eval("data."+k))}),html},loadComponent:function(e,t,n,o){var i=this,r=e.replace(/\//g,"_").toLowerCase();this.components[r]={params:n},this.getContent((void 0!==__.config&&void 0!==__.config.origin?__.config.origin:window.location.origin)+"/components/"+e.toLowerCase()+"/ui"+(__.config.use_min?__.config.use_min:"")+".html",function(n){document.getElementById(t)?(document.getElementById(t).innerHTML=n,i.getScript((void 0!==__.config&&void 0!==__.config.origin?__.config.origin:window.location.origin)+"/components/"+e.toLowerCase()+"/logic"+(__.config.use_min?__.config.use_min:"")+".js",function(){o&&(o&&void 0!==__.components[r.toLowerCase()].js&&void 0!==__.components[r.toLowerCase()].js.callback?__.components[r.toLowerCase()].js.callback=o:o&&o(),void 0!==__.components[r.toLowerCase()].js.onLoad&&__.components[r.toLowerCase()].js.onLoad())})):console.error("DOM Element Does Not Exist",t)})},renderLayout:function(e,t){this.getContent((void 0!==__.config&&void 0!==__.config.origin?__.config.origin:window.location.origin)+"/layouts/"+e.toLowerCase()+(__.config.use_min?__.config.use_min:"")+".html",function(e){document.getElementById("__layout")?document.getElementById("__layout").innerHTML=e:document.body.innerHTML=e,"function"==typeof t&&t()})},shared:function(e){__.jss=Object.assign(__.jss,e)},validateFormData:function(e){function t(){return __.config.invalid_field_class?__.config.invalid_field_class:"__is-invalid"}els=document.querySelectorAll("#"+e+" input, #"+e+" select, #"+e+" textarea, #"+e+" range");var n=!1;return els.forEach(function(e){if(e.classList.remove(t()),null!==e.getAttribute("required")||"required"===e.getAttribute("required"))if(0===e.value.trim().length)e.classList.add(t()),n=!0;else{let o=/./gi,i=e.value.trim();switch(e.type){case"email":o=/\b[\w\.-]+@[\w\.-]+\.\w{2,4}\b/gi;break;case"tel":i=i.replace(/[^0-9]/g,""),o=/[0-9]{10}/;break;case"number":(null!==e.getAttribute("min")&&Number(i)<Number(e.getAttribute("min"))||null!==e.getAttribute("max")&&Number(i)>Number(e.getAttribute("max")))&&(e.classList.add(t()),n=!0)}o&&(o.test(i)||(e.classList.add(t()),n=!0))}}),!n},validateFormField:function(e){function t(){return __.config.invalid_field_class?__.config.invalid_field_class:"__is-invalid"}var n=!1;return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(el=document.getElementById(e),el.classList.remove(t()),null!==el.getAttribute("required")||"required"===el.getAttribute("required"))if(0===el.value.trim().length)el.classList.add(t()),n=!0;else if("text"!==el.type||null===el.getAttribute("min")&&null===el.getAttribute("max")){let e=/./gi,o=el.value.trim();switch(el.type){case"email":e=/\b[\w\.-]+@[\w\.-]+\.\w{2,4}\b/gi;break;case"tel":o=o.replace(/[^0-9]/g,""),e=/[0-9]{10}/;break;case"number":(null!==el.getAttribute("min")&&Number(o)<Number(el.getAttribute("min"))||null!==el.getAttribute("max")&&Number(o)>Number(el.getAttribute("max")))&&(el.classList.add(t()),n=!0)}e&&(e.test(o)||(el.classList.add(t()),n=!0))}else null!==el.getAttribute("min")&&el.value.trim().length<Number(el.getAttribute("min"))&&(el.classList.add(t()),n=!0),null!==el.getAttribute("max")&&el.value.trim().length>Number(el.getAttribute("max"))&&(el.classList.add(t()),n=!0)}),!n},getFormFile:function(e,t){let n=e.files[0],o=new FileReader;o.readAsDataURL(n),o.onload=function(){t(null,o.result)},o.onerror=function(){t(o.error,null)}},getFormData:function(e){var t={};return document.querySelectorAll("#"+e+" input, #"+e+" select, #"+e+" textarea, #"+e+" range").forEach(function(e){if("file"===e.getAttribute("type"))t[e.name]=e;else if("checkbox"!==e.getAttribute("type")&&"radio"!==e.getAttribute("type")||"checkbox"===e.getAttribute("type")&&e.checked||"radio"===e.getAttribute("type")&&e.checked)if(void 0===t[e.name])if("array"===e.getAttribute("storeas"))t[e.name]=[e.value];else if("number"===e.getAttribute("storeas"))t[e.name]=Number([e.value]);else if("string"===e.getAttribute("storeas"))t[e.name]=[e.value].toString();else if("bool"===e.getAttribute("storeas"))""===e.value?t[e.name]=null:t[e.name]=["true","yes"].indexOf(e.value.toString().toLowerCase())>-1||1===Number(e.value)||!0===e.value;else if("group"===e.getAttribute("storeas")){if(e.name.indexOf("|")>0){let n=e.name.split("|");void 0===t[n[0]]&&(t[n[0]]={}),t[n[0]][n[1]]="number"===e.type?Number(e.value):e.value}}else"datetime-local"===e.type?e.value&&(t[e.name]=new Date(e.value).toString()):"number"===e.type?e.value&&(t[e.name]=Number(e.value)):t[e.name]=e.value;else"object"==typeof t[e.name]?t[e.name].push(e.value):t[e.name]=[t[e.name],e.value]}),t},setFormData:function(e,t){Object.keys(t).forEach(function(n){document.querySelectorAll("#"+e+' [name="'+n+'"]').forEach(function(e){switch(e.type){case"checkbox":case"radio":if(t[n]===e.value)e.checked="checked";else if("bool"===e.getAttribute("storeas")){var o=["true","yes"].indexOf(e.value.toString().toLowerCase())>-1||1===Number(e.value)||!0===e.value;t[n]===o&&(e.checked="checked")}break;case"date":e.value=t[n].split("T")[0];break;default:e.value=t[n]}})})},dataBind:function(e,t){let n=JSON.parse(JSON.stringify(e));Object.keys(t).forEach(function(o){Object.defineProperty(e,o,{get(){if(!document.getElementById(t[o]))return e[o];switch(document.getElementById(t[o]).tagName){case"INPUT":return document.getElementById(t[o]).value.trim();default:return document.getElementById(t[o]).innerHTML.trim()}},set(e){if(document.getElementById(t[o]))switch(document.getElementById(t[o]).tagName){case"INPUT":document.getElementById(t[o]).value=e;break;default:document.getElementById(t[o]).innerHTML=e}}}),e[o]=n[o]}),Object.defineProperty(e,"__data",{get:()=>JSON.parse(JSON.stringify(e))}),n=null},rndString:function(e,t){e||(e=5);var n="",o="";t||(t=["letters","uppercase","numbers","specials","safespecials"]),t.indexOf("letters")>-1&&(o+="abcdefghijklmnopqrstuvwxyz"),t.indexOf("uppercase")>-1&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),t.indexOf("numbers")>-1&&(o+="0123456789"),t.indexOf("specials")>-1&&(o+="!@#$%^&*()-_+=[]{}?"),t.indexOf("safespecials")>-1&&(o+="!*-_"),t.indexOf("exclude_confusing")>-1&&(o=o.replace(/[o0il1]/gi,""));for(var i=0;i<e;i++)n+=o.charAt(Math.floor(Math.random()*o.length));return n},rndNumber:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},getCookie:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));if(t)return t[2]},uuidv4:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))},ui:{loading:{dim:function(e){if(e)document.getElementById("ducttape-dim")&&document.body.removeChild(document.getElementById("ducttape-dim"));else if(!document.getElementById("ducttape-dim")){var t=document.createElement("div");t.style.cssText="width:100%; height:100%; position:fixed; top:0; left:0; background: rgba(0,0,0,0.5); z-index:999999;",t.id="ducttape-dim",document.body.appendChild(t)}},body:function(e){if(this.dim(e),e)document.getElementById("bodySpinner")&&document.body.removeChild(document.getElementById("bodySpinner"));else if(!document.getElementById("bodySpinner")){var t=document.createElement("div");t.style.cssText="position:fixed; top:30%; left:0; width:100%; text-align:center; z-index:99999999;",t.innerHTML='<div class="spinner spinner-big" style="margin:0 auto;"></div>',t.id="bodySpinner",document.body.appendChild(t)}},screen:function(e){this.dim(e),this.section(void 0!==__.config.screenDOMId?__.config.screenDOMId:"screen",e)},button:function(e,t){document.getElementById(e)&&(t?(document.getElementById(e+"Spinner")&&document.getElementById(e).removeChild(document.getElementById(e+"Spinner")),document.getElementById(e).disabled=!1):(document.getElementById(e).disabled=!0,document.getElementById(e).innerHTML='<div id="'+e+'Spinner" class="spinner mr-1"></div>'+document.getElementById(e).innerHTML))},section:function(e,t){document.getElementById(e)&&(t?document.getElementById(e+"Spinner")&&document.getElementById(e).removeChild(document.getElementById(e+"Spinner")):document.getElementById(e).innerHTML=document.getElementById(e).innerHTML+'<div id="'+e+'Spinner" style="position:absolute; top:30%; left:0; width:100%; text-align:center; z-index:99999999;"><div class="spinner spinner-big" style="margin:0 auto;"></div></div>')}},$:{prependHtml:function(e,t){document.getElementById(e)&&(document.getElementById(e).innerHTML=t+document.getElementById(e).innerHTML)},appendHtml:function(e,t){document.getElementById(e)&&(document.getElementById(e).innerHTML+=t)},setHtml:function(e,t){document.getElementById(e)&&(document.getElementById(e).innerHTML=t)},addClass:function(e,t){for(let n of document.querySelectorAll(e))n.classList.contains(t)||n.classList.add(t)},removeClass:function(e,t){for(let n of document.querySelectorAll(e))n.classList.contains(t)&&n.classList.remove(t)},setAttribute:function(e,t,n){for(let o of document.querySelectorAll(e))o.setAttribute(t,n)},removeAttribute:function(e,t){for(let n of document.querySelectorAll(e))n.removeAttribute(t)},check:function(e){for(let t of document.querySelectorAll(e))t.checked=!0},uncheck:function(e){for(let t of document.querySelectorAll(e))t.checked=!1},removeElement:function(e){document.querySelectorAll(e).forEach(function(e){e.remove()})}}}};window.__toast=function(e,t,n){document.getElementById("__toast")&&document.getElementById("__toast").parentNode.removeChild(document.getElementById("__toast")),document.body.insertAdjacentHTML("beforeend",'<div id="__toast">'+e+"</div>"),t?t+=" showToast":t="showToast",document.getElementById("__toast").className=t,setTimeout(function(){document.getElementById("__toast")&&(document.getElementById("__toast").className=document.getElementById("__toast").className.replace("showToast",""),"function"==typeof n&&n())},3e3)},window.isMobile=function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},window.isMobileOrTablet=function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},window.location.queryString=function(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),o=n.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},String.prototype.maxLength=function(e){return this.length>e?this.slice(0,e)+" ...":this},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype.some||(Array.prototype.some=function(e,t){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var n=Object(this),o=n.length>>>0,i=0;i<o;i++)if(i in n&&e.call(t,n[i],i,n))return!0;return!1}),Array.prototype.mode||(Array.prototype.mode=function(){var e=this;return this.sort((t,n)=>e.filter(e=>e===t).length-e.filter(e=>e===n).length).pop()}),Object.assign||(Object.assign=function(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})});